# HighloadArchitectureCourseWork

## 1. Выбор темы

В качестве темы был выбран сервис облачного хранения данных по типу [Dropbox](https://www.dropbox.com/) или [Yandex.Disk](http://disk.yandex.ru/).
У сервиса должны быть функции, такие как:

* загрузить файл
* удалить файл
* посмотреть информацию о файле
* поиск по директории
* поделиться ссылкой на файл

## 2. Определение возможного диапазона нагрузок

Положим количество пользователей сервиса равным 20М.

Сервис будет предоставлять 4гб дискового пространства для бесплатного аккаунта, 100гб для платного.
Ограничим объем загружаемых и скачиваемых данных для пользователя за день размером в 200% от его дискового пространства,
т.е. 8гб/день для бесплатного аккаунта, 200гб/день для платного.
Также положим, что 96% пользователей сервиса имеют бесплатный аккаунт, а 4% будут иметь платную подписку, т.е. платный аккаунт.
Исходя из этого, получмем следующие данные

|account type|storage|percentage|daily traffic|total storage size                              |total daily traffic                                              |
|------------|-------|----------|-------------|------------------------------------------------|-----------------------------------------------------------------|
|free        |4GB    |96%       |8GB/day      |4GB * 0.96 * 20 * 10^6 = 76.8 * 10^6 GB = 76.8PB|153.6PB/day ~ 1777.8GB/sec = 14 222.2 Gbit/sec ~= 14.223 Tbit/sec|
|paid        |100GB  |4%        |200GB/day    |100GB * 0.04 * 20 * 10^6 = 80 * 10^6GB = 80PB   |160PB/day ~ 1851.9GB/sec = 14 814.81 Gbit/sec ~=  14.815 Tbit/sec|

Из рассчетов получаем, что суммарных объем хранилища должен составлять 156.8PB.

Из данных [similarweb](https://www.similarweb.com/website/disk.yandex.ru/) можно получить, что:

* средняя продолжительность пребывания на сайте такого проекта около 5 минут

## 3. Выбор планируемой нагрузки

## 4. Логическая схема базы данных
